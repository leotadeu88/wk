create database wk
default character set utf8mb4 
default collate utf8mb4_general_ci ;
use wk;

--Criação da tabela clientes
CREATE TABLE wk.clientes (
  CODIGO INT NOT NULL,
  NOME VARCHAR(100) NOT NULL,
  CIDADE VARCHAR(100) NOT NULL,
  UF VARCHAR(2) NOT NULL,
  PRIMARY KEY (CODIGO));

CREATE TABLE wk.produtos (
  CODIGO INT NOT NULL AUTO_INCREMENT,
  DESCRICAO VARCHAR(100) NOT NULL,
  PRECO_VENDA DECIMAL(10, 2) NOT NULL,
  PRIMARY KEY (CODIGO)
)
ENGINE = INNODB, AUTO_INCREMENT = 26, CHARACTER SET utf8, COLLATE utf8_general_ci;

ALTER TABLE wk.produtos ADD UNIQUE INDEX UK_produtos_DESCRICAO(DESCRICAO);

CREATE TABLE wk.pedidos_dados_gerais (
  NUMEROPEDIDO INT NOT NULL,
  DATAEMISSAO DATE NOT NULL,
  CODIGO_CLIENTE INT NOT NULL,
  VALOR_TOTAL DECIMAL(10, 2) NOT NULL,
  PRIMARY KEY (NUMEROPEDIDO, DATAEMISSAO, CODIGO_CLIENTE, VALOR_TOTAL)
)
ENGINE = INNODB, CHARACTER SET utf8, COLLATE utf8_general_ci;

ALTER TABLE wk.pedidos_dados_gerais ADD CONSTRAINT FK_pedidos_dados_gerais_CODIGO_CLIENTE FOREIGN KEY (CODIGO_CLIENTE) REFERENCES leodb.clientes(CODIGO);

CREATE TABLE wk.pedidos_produtos (
  ID INT NOT NULL AUTO_INCREMENT,
  NUMERO_PEDIDO INT NOT NULL,
  CODIGO_PRODUTO INT NOT NULL,
  QUANTIDADE INT NOT NULL,
  VLR_UNITARIO DECIMAL(10, 2) NOT NULL,
  VLR_TOTAL DECIMAL(10, 2) NOT NULL ,
  PRIMARY KEY (ID)
)
ENGINE = INNODB, CHARACTER SET utf8, COLLATE utf8_general_ci;

ALTER TABLE wk.pedidos_produtos ADD CONSTRAINT FK_pedidos_produtos_CODIGO_PRODUTO FOREIGN KEY (CODIGO_PRODUTO) REFERENCES wk.produtos(CODIGO);

ALTER TABLE wk.pedidos_produtos ADD CONSTRAINT FK_pedidos_produtos_NUMERO_PEDIDO FOREIGN KEY (NUMERO_PEDIDO) REFERENCES wk.pedidos_dados_gerais(NUMEROPEDIDO);

INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (1,'CLIENTE_01', 'CIDADE_01', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (2,'CLIENTE_02', 'CIDADE_02', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (3,'CLIENTE_03', 'CIDADE_03', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (4,'CLIENTE_04', 'CIDADE_04', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (5,'CLIENTE_05', 'CIDADE_05', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (6,'CLIENTE_06', 'CIDADE_06', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (7,'CLIENTE_07', 'CIDADE_07', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (8,'CLIENTE_08', 'CIDADE_08', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (9,'CLIENTE_09', 'CIDADE_09', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (10,'CLIENTE_10', 'CIDADE_10', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (11,'CLIENTE_11', 'CIDADE_11', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (12,'CLIENTE_12', 'CIDADE_12', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (13,'CLIENTE_13', 'CIDADE_13', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (14,'CLIENTE_14', 'CIDADE_14', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (15,'CLIENTE_15', 'CIDADE_15', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (16,'CLIENTE_16', 'CIDADE_16', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (17,'CLIENTE_17', 'CIDADE_17', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (18,'CLIENTE_18', 'CIDADE_18', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (19,'CLIENTE_19', 'CIDADE_19', 'SP');
INSERT INTO clientes (CODIGO,NOME,CIDADE,UF) VALUES (20,'CLIENTE_20', 'CIDADE_20', 'SP');

INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (1,'PRODUTO_01','1.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (2,'PRODUTO_02','2.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (3,'PRODUTO_03','3.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (4,'PRODUTO_04','4.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (5,'PRODUTO_05','5.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (6,'PRODUTO_06','6.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (7,'PRODUTO_07','7.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (8,'PRODUTO_08','8.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (9,'PRODUTO_09','9.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (10,'PRODUTO_10','10.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (11,'PRODUTO_11','11.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (12,'PRODUTO_12','12.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (13,'PRODUTO_13','13.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (14,'PRODUTO_14','14.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (15,'PRODUTO_15','15.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (16,'PRODUTO_16','16.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (17,'PRODUTO_17','17.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (18,'PRODUTO_18','18.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (19,'PRODUTO_19','19.00');
INSERT INTO produtos (CODIGO,DESCRICAO,PRECO_VENDA) VALUES (20,'PRODUTO_20','20.00');